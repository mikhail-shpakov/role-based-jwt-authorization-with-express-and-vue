{"version":3,"sources":["webpack:///./src/pages/Login/index.vue?4196","webpack:///./src/pages/Login/index.vue?0c6a","webpack:///src/pages/Login/index.vue","webpack:///./src/pages/Login/index.vue?0201","webpack:///./src/pages/Login/index.vue?3266"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","$event","type","indexOf","_k","keyCode","key","login","attrs","model","value","authData","callback","$$v","$set","trim","expression","isLoading","username","password","_v","staticRenderFns","name","fingerprint","computed","methods","LOGIN","accessToken","$router","push","checkUserAuth","component"],"mappings":"gHAAA,yBAAujB,EAAG,G,2CCA1jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoBF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,GAAGH,EAAG,OAAO,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQX,EAAIY,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcd,EAAIe,WAAW,CAACX,EAAG,UAAU,CAACY,MAAM,CAAC,MAAQ,UAAU,CAACZ,EAAG,UAAU,CAACa,MAAM,CAACC,MAAOlB,EAAImB,SAAiB,SAAEC,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKtB,EAAImB,SAAU,WAA4B,kBAARE,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,wBAAwB,GAAGpB,EAAG,UAAU,CAACY,MAAM,CAAC,MAAQ,WAAW,CAACZ,EAAG,UAAU,CAACY,MAAM,CAAC,KAAO,WAAW,kBAAkB,IAAIC,MAAM,CAACC,MAAOlB,EAAImB,SAAiB,SAAEC,SAAS,SAAUC,GAAMrB,EAAIsB,KAAKtB,EAAImB,SAAU,WAA4B,kBAARE,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,wBAAwB,GAAGpB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAW,CAACE,YAAY,oBAAoBU,MAAM,CAAC,QAAUhB,EAAIyB,UAAU,SAAWzB,EAAImB,SAASO,UAAsC,KAA1B1B,EAAImB,SAASQ,UAAiBnB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIe,WAAW,CAACf,EAAI4B,GAAG,YAAY,IAAI,KAAK5B,EAAIO,GAAG,QAChqCsB,EAAkB,CAAC,WAAa,IAAI7B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,6DAA6D,CAACN,EAAI4B,GAAG,iBAAiBxB,EAAG,IAAI,CAACE,YAAY,iBAAiB,CAACN,EAAI4B,GAAG,mDAAmD,WAAa,IAAI5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG,kBAAkBxB,EAAG,SAAS,CAACJ,EAAI4B,GAAG,oBAAoBxB,EAAG,IAAI,CAACJ,EAAI4B,GAAG,iBAAiBxB,EAAG,SAAS,CAACJ,EAAI4B,GAAG,sB,oCCkC3lB,GACEE,KAAM,QACN,OACE,MAAO,CACLX,SAAU,CACRO,SAAU,GACVC,SAAU,GACVI,YAAa,IAEfN,WAAW,IAGfO,SAAU,OAAZ,OAAY,CAAZ,GACA,uBACI,YAAJ,iBACI,YAAJ,2BAGEC,QAAS,OAAX,OAAW,CAAX,GACA,uBACA,UAFA,CAII,cACEhC,KAAKwB,WAAY,EAEjBxB,KAAKkB,SAASY,YAAc9B,KAAK8B,kBAC3B9B,KAAKiC,MAAMjC,KAAKkB,UAEtBlB,KAAKwB,WAAY,GAEnB,sBACMxB,KAAKkC,mBACDlC,KAAKmC,QAAQC,KAAK,CAAhC,qBAIE,sBAMQpC,KAAKqC,kBC7E+U,I,wBCQ1VC,EAAY,eACd,EACAxC,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAU,E","file":"js/chunk-1196ed98.20f90583.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1dc5be8c&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1dc5be8c&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column auth-img\"}),_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"tile\"},[_vm._m(0),_c('form',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login()}}},[_c('b-field',{attrs:{\"label\":\"Логин\"}},[_c('b-input',{model:{value:(_vm.authData.username),callback:function ($$v) {_vm.$set(_vm.authData, \"username\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"authData.username\"}})],1),_c('b-field',{attrs:{\"label\":\"Пароль\"}},[_c('b-input',{attrs:{\"type\":\"password\",\"password-reveal\":\"\"},model:{value:(_vm.authData.password),callback:function ($$v) {_vm.$set(_vm.authData, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"authData.password\"}})],1),_c('div',{staticClass:\"foot\"},[_c('b-button',{staticClass:\"button is-success\",attrs:{\"loading\":_vm.isLoading,\"disabled\":_vm.authData.username && _vm.authData.password === ''},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"Войти\")])],1)],1)]),_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"has-text-centered\"},[_c('p',{staticClass:\"auth-title has-text-weight-medium is-size-5 has-text-dark\"},[_vm._v(\"Авторизация\")]),_c('p',{staticClass:\"auth-subtitle\"},[_vm._v(\"Войдите для доступа к защищённым маршрутам\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tile helper-data\"},[_c('p',[_vm._v(\"Администратор:\"),_c('strong',[_vm._v(\" admin/admin\")])]),_c('p',[_vm._v(\"Пользователь:\"),_c('strong',[_vm._v(\" user/user\")])])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.columns\n  .column.auth-img\n  .column\n    .tile\n      .has-text-centered\n        p.auth-title.has-text-weight-medium.is-size-5.has-text-dark Авторизация\n        p.auth-subtitle Войдите для доступа к защищённым маршрутам\n      form(@keyup.enter=\"login()\")\n        b-field(label=\"Логин\")\n          b-input(\n            v-model.trim='authData.username'\n          )\n        b-field(label=\"Пароль\")\n          b-input(\n            type='password'\n            password-reveal\n            v-model.trim='authData.password'\n          )\n        .foot\n          b-button.button.is-success(\n            @click='login()'\n            :loading=\"isLoading\"\n            :disabled=\"authData.username && authData.password === ''\"\n          ) Войти\n    .tile.helper-data\n      p Администратор:\n        strong  admin/admin\n      p Пользователь:\n        strong  user/user\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      authData: {\n        username: '',\n        password: '',\n        fingerprint: ''\n      },\n      isLoading: false\n    }\n  },\n  computed: {\n    ...mapState('user', {\n      fingerprint: state => state.fingerprint,\n      accessToken: state => state.tokens.accessToken\n    })\n  },\n  methods: {\n    ...mapActions('user', [\n      'LOGIN'\n    ]),\n    async login () {\n      this.isLoading = true\n\n      this.authData.fingerprint = this.fingerprint\n      await this.LOGIN(this.authData)\n\n      this.isLoading = false\n    },\n    async checkUserAuth () {\n      if (this.accessToken) {\n        await this.$router.push({ path: '/servers' })\n      }\n    }\n  },\n  async created () {\n    /**\n     * Если пользователь авторизован\n     * и пытается перейти по прямой ссылке на страницу /login,\n     * то делаем редирект на страницу /servers\n     */\n    await this.checkUserAuth()\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\ndiv\n  &.column.auth-img\n    background-image: url(\"../../assets/login.svg\")\n    background-size: 100% 100%\n    min-height: 450px\n    align-self: center\n    display: none\n    @media (min-width: $display-bp-mobile)\n      display: block\n\n  &.tile\n    max-width: 350px\n    padding: 30px 22px\n    border: 1px solid $color-alt\n    border-radius: 6px\n    display: block\n    @media (min-width: $display-bp-mobile)\n      margin: 50px -0.75rem 0 auto\n    &.helper-data\n      margin-top: 30px\n      padding: 20px 25px\n      p\n        line-height: 1.75\n\n  &.foot\n    text-align: right\n\n  &.field\n    margin: 30px 0\n\np.auth-title,\np.auth-subtitle\n  margin: 10px 20px\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1dc5be8c&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1dc5be8c&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dc5be8c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}